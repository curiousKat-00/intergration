<VirtualHost *:80>
    DocumentRoot /var/www/html

    RewriteEngine On

    # Rule 1: If the request is for the /api/ path, do not apply any more rewrite rules.
    # Apache will then serve the file directly from the filesystem.
    RewriteRule ^/api/.* - [L]

    # Rule 2: If the request is not for an existing file or directory,
    # rewrite the request to /index.html to be handled by the React Router.
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.html [L]

    # Standard logging
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>